<template>
    <div class="send-wrapper">
        <div class="back">
            <a route-href="home" class="back-button">Go back</a>
        </div>

        <div class="choose-token transaction-table py-4">
            <div class="transaction-table-header">
                <h2>Receive Token</h2>
            </div>
            <div class="form-group">
                <select
                class="form-control selectpicker tokenSelect"
                    value.bind="tokenSymbol"
                    change.delegate="tokenSelected()"
                >
                    <option model.bind="null"
                        >${'Please select a token...' & t}</option
                    >
                    <option value.bind="t.symbol" 
                            repeat.for="t of tokens"
                            data-content="${'<img src=\'' + t.metadata.icon + '\' class=\'tokenIcon\' />'} ${t.symbol & t} (${t.name})"
                        >${t.name & t} (${t.symbol})</option
                    >
                </select>
            </div>
            <img
                width="128px"
                class="token-icon"
                src.bind="token ? token.metadata.icon : 'https://img.icons8.com/cute-clipart/128/000000/bitcoin.png'"
            />
            <p class="send-info">
                Only send
                <strong>${token ? token.symbol : '[TOKEN]'}</strong> to the
                following address. Kindly ensure that you copied this address
                correctly from below.
            </p>
            <div show.bind="receiveTokenInfo.address" class="col-sm-6">
                <strong>Address:</strong>
                    <input
                        type="text"
                        name="token-opion"
                        placeholder="Get address here by selecting the appropriate token"
                        id="token"
                        value.bind="receiveTokenInfo.address"
                        class="token-option text-center col-sm-9"
                        readonly
                    />
            </div>
            <div show.bind="receiveTokenInfo.memo" class="col-sm-6">
                <br />
                <strong>Memo:</strong>
                    <input
                        type="text"
                        name="token-opion"
                        placeholder="Memo"
                        id="memo"
                        value.bind="receiveTokenInfo.memo"
                        class="token-option text-center col-sm-9"
                        readonly
                    />
            </div>
            <input
                type="button"
                show.bind="tokenSymbol && (!receiveTokenInfo || !receiveTokenInfo.address)"
                value="Generate Address"
                class="send-button mt-3"
                click.delegate="generateAddress()"
            />
            <input
                type="button"
                show.bind="receiveTokenInfo.address"
                value="Copy Address"
                class="send-button mt-3"
                click.delegate="copyDepositAddress()"
                id="copyBtn"
            />
            <input
                type="button"
                show.bind="receiveTokenInfo.memo"
                value="Copy Memo"
                class="send-button mt-3"
                click.delegate="copyMemo()"
                id="copyMemoBtn"
            />
        </div>
    </div>
</template>
