<template bindable="selected">
    <loader loading.bind="loading" mode="tiny"></loader>

    <div class="transaction-table">
        <div class="container-fluid">
            <div class="transaction-table-header">
                <h4>Trades</h4>
            </div>
            <ul class="nav nav-tabs table-tab" id="myTab" role="tablist">
                <li class="nav-item table-head-links">
                    <a
                        class="nav-link table-link active"
                        id="pending-tab"
                        data-toggle="tab"
                        href="#pending"
                        role="tab"
                        aria-controls="pending"
                        aria-selected="true"
                        >Pending</a
                    >
                </li>
                <li class="nav-item table-head-links">
                    <a
                        class="nav-link table-link"
                        id="completed-tab"
                        data-toggle="tab"
                        href="#completed"
                        role="tab"
                        aria-controls="completed"
                        aria-selected="false"
                        >Completed</a
                    >
                </li>
                <li class="nav-item table-head-links">
                    <a
                        class="nav-link table-link"
                        id="failed-tab"
                        data-toggle="tab"
                        href="#failed"
                        role="tab"
                        aria-controls="failed"
                        aria-selected="false"
                        >Failed</a
                    >
                </li>
            </ul>

            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="pending" role="tabpanel" aria-labelledby="pending-tab">
                    <table class="table">
                        <thead class="table-head">
                            <tr>
                                <th class="icon-head head-item" scope="col"></th>
                                <th class="date-head head-item" scope="col">Date</th>
                                <th class="transaction-head head-item" scope="col">Transaction Type</th>
                                <th class="amount-head head-item" scope="col">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
                <div class="tab-pane fade" id="completed" role="tabpanel" aria-labelledby="completed-tab">
                    <table class="table">
                        <thead class="table-head">
                            <tr>
                                <th class="icon-head head-item" scope="col"></th>
                                <th class="date-head head-item" scope="col">Date</th>
                                <th class="transaction-head head-item" scope="col">Transaction Type</th>
                                <th class="amount-head head-item" scope="col">Amount</th>
                            </tr>
                        </thead>
                        <tbody repeat.for="trade of tradesCompleted">
                            <tr>
                                <th class="table-item" scope="row">
                                    <div class="transaction-icon">
                                        <font-awesome-icon
                                            show.bind="trade.type == 'received'"
                                            class="table-icon"
                                            icon.bind="['fas', 'university']"
                                        ></font-awesome-icon>
                                        <font-awesome-icon
                                            class="table-icon"
                                            show.bind="trade.type == 'sent'"
                                            icon.bind="['fas', 'exchange']"
                                        ></font-awesome-icon>
                                    </div>
                                </th>
                                <td class="table-item">
                                    <h4 class="text-center mb-0">${trade.timestamp_month_name}</h4>
                                    <h6 class="text-center mb-0">${trade.timestamp_day}</h6>
                                </td>
                                <td class="table-item transaction-type">
                                    ${trade.symbol} Trade
                                    <br />
                                    <span class="transaction-type-info" show.bind="trade.type == 'received'"
                                        >You received ${trade.quantity} ${trade.symbol} worth ${'$' + trade.usdValue}</span
                                    >
                                    <span class="transaction-type-info" show.bind="trade.type == 'sent'"
                                        >You sent ${trade.quantity} ${trade.symbol} worth ${'$' + trade.usdValue}</span
                                    >
                                </td>
                                <td class="table-item text-right">${trade.quantity} ${trade.symbol}</td>
                            </tr>
                        </tbody>
                    </table>
                    <br />
                    <nav class="text-right ml-auto" aria-label="Page navigation example">
                        <ul class="pagination">
                            <li class="page-item pagination-btn">
                                <a class="page-link pagination-link" click.delegate="pageClick('prev')" aria-label="Previous" show.bind="page > 1">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            <li class="page-item pagination-btn" repeat.for="p of totalPages">
                                <a class="page-link pagination-link ${page == p+1 ? 'active' : ''}" click.delegate="pageClick(p+1)">${p+1}</a>
                            </li>
                            <li class="page-item pagination-btn">
                                <a class="page-link pagination-link" click.delegate="pageClick('next')" aria-label="Next" show.bind="page < totalPages">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>                
                <div class="tab-pane fade" id="failed" role="tabpanel" aria-labelledby="failed-tab">
                    <table class="table">
                        <thead class="table-head">
                            <tr>
                                <th class="icon-head head-item" scope="col"></th>
                                <th class="date-head head-item" scope="col">Date</th>
                                <th class="transaction-head head-item" scope="col">Transaction Type</th>
                                <th class="amount-head head-item" scope="col">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <style>
        .table-link {
            
            font-weight: bold;
        }
        .table-link.active {
            background-color: #22a275c5 !important;
            color: #05413c;
            border: 1px solid #22a275c5 !important;
            border-bottom: none!important;
        }
        .nav-tabs .table-link:focus,
        .nav-tabs .table-link:hover {
            border-color: #22a275c5;
            border-bottom: none!important;
        }
    </style>
</template>
